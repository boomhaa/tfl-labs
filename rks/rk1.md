# Теория формальных языков — Рубежный контроль №1
**Вариант №22**  
**Тараканов Влад ИУ9-52Б**

---

## Задание 1

Язык контекстно-свободных грамматик, порождающих языки — подмножества $(ab)^*$.  
Слова языка могут включать нетерминалы `S` (где `S` — стартовый), `A`, символ `->`, терминалы `a`, `b` и разделитель `;`.

### Решение
Можно заметить, что между двумя соседними нетерминалами `S` всегда будет стоять выражение, удовлетворяющее $`(ab)^*`$, причем оно может быть распознано с помощью языка, задаваемого нетерминалом `A`. 

Язык, порождаемый `A`, может быть 4 видов:
1. $`(ab)^*`$
2. $`b(ab)^*`$
3. $`(ab)^*a`$
4. $`b(ab)^*a`$

Рассмотрим возможные правила для каждого случая:
1.
```math
A \rightarrow (ab)^∗
A \rightarrow (A^∗(ab)^∗S^∗)^∗
```
2. 
```math
A \rightarrow b(ab)^∗
A \rightarrow ((ba)^∗(bS^∗a)^∗)^∗A(((ab)^∗S^∗)^∗aA)^∗((ab)^∗S^∗)^∗
```
3. 
```math
A \rightarrow (ab)^∗a
A \rightarrow ((ab)^∗S^∗)^∗A(b((ab)^∗S^∗)^∗A)^∗((ba)^∗(bS^∗a)^∗)^∗
```
4.
```math
A \rightarrow b(ab)^∗a
A \rightarrow (ba|bS^∗a)^∗A(ba|bS^∗a|A)^∗(ba|bS^∗a)^∗
```

Во всех 4 случаях язык `A` выражается через регулярное выражение

Теперь рассмотрим правила для `S` в каждом случае:
1. $`S \rightarrow (S^∗(ab)^∗A^∗)^∗`$
2. $`S \rightarrow (S^∗(ab)^∗(aA)^∗)^∗`$
3. $`S \rightarrow (S^∗(ab)^∗(Ab)^∗)^∗`$
4. $`S \rightarrow (S^∗(ab)^∗(aAb)^∗)^∗`$

Для всех случаев выполняется $`S \rightarrow (ab)^*`$

Получаем четыре регулярных языка. Во втором, третьем и четвёртом случаях правила для `S` и `A` можно породить через положительную итерацию.

В первом случае может возникнуть риск зацикливания, поэтому разобьём его на два подъязыка:
1. Требуем, чтобы правило $`A \rightarrow (ab)^∗`$ имело вид $`A \rightarrow (ab)^+`$.
2. Требуем, чтобы вместо $`S \rightarrow (S^∗(ab)^∗A^∗)^∗`$ было $`S \rightarrow (S^∗(ab)^+A^∗)^+`$.
Таким образом, устраняем возможность зацикливания, и каждый подъязык становится регулярным. Объединение этих двух подъязыков также регулярно.

В конечном итоге, все четыре случая дают регулярные языки. Объединение регулярных языков регулярно, следовательно, исходный язык является регулярным.


## Задание 2

Язык
```math
\{\, a^*\,\omega\, b^* \mid |\omega|_{abab} = |\omega|_{ba}\ \land\ \omega \in \{a,b\}^+ \,\}.
```

### Решение

![Рис. 1. ДКА](graphs/task2.svg)
---

## Задание 3

Язык слов, в котором число подстрок `aba` и число подстрок `bab` **не совпадают**. Алфавит $\{a,b,c\}$.

### Решение

Докажем, что язык $L$ не является регулярным. Рассмотрим язык

```math
\overline{L} = \{\, \omega \mid |\omega|_{aba} = |\omega|_{bab}\ \land\ \omega \in \{a,b,c\}^* \,\}.
```

Если $\overline{L}$ является регулярным, то $L$ также должен быть регулярным.

Построим таблицу конкатенаций для языка $\overline{L}$:

|   | $a$ | $aaba$ | $aabaaba$ | $\dots$ | $a(aba)^k$ | $a(aba)^{k+1}$ |
|---|---:|---:|---:|---:|---:|---:|
| $bab$ | $+$ | $-$ | $-$ | $\dots$ | $-$ | $-$ |
| $babbab$ | $-$ | $+$ | $-$ | $\dots$ | $-$ | $-$ |
| $\dots$ | $\dots$ | $\dots$ | $\dots$ | $\dots$ | $\dots$ | $\dots$ |
| $(bab)^{k+1}$ | $-$ | $-$ | $-$ | $\dots$ | $+$ | $-$ |

Видим, что все префиксы различимы, значит $\overline{L}$ не регулярен, следовательно, $L$ также не регулярен.

Построим для $L$ следующий PDA

![Рис. 1. PDA](graphs/task3.svg)
